/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'vcouturi' at '21/08/15 14:03' with Gradle 2.4
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at http://gradle.org/docs/2.4/userguide/tutorial_java_projects.html
 */

// Apply the java plugin to add support for Java
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'build-dashboard'

sourceCompatibility = 1.6

/*
Precise in gradle.properties file the following properties
 The following parameters are needed to compile and test using w4store maven repository
     w4StoreUsername : login of your w4Store account
     w4StorePassword : password of your w4Store account
 
 The following parameter is needed to compile and test task with maven repository access
     w4Home : home directory of W4 BPMN+ Engine installation
 
 The following parameter are necessary to launch test task
	 w4Server : name of the host of W4 BPMN+ engine
	 w4Port : port of W4 BPMN+ engine
	 w4Login : user login of W4 BPMN+ engine
	 w4Password : user password of W4 BPMN+ engine
*/

// In this section you declare where to find the dependencies of your project
repositories {
    // Use 'jcenter' for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
    
    // w4store repository 
    /*
    maven {
		
        credentials {
            username w4StoreUsername
            password w4StorePassword
        }    
        
        name "w4Store"
        url "http://maven.w4store.com/repository/all"
    } */  
}

// In this section you declare the dependencies for your production and test code
dependencies {
    compile fileTree(dir: "$w4Home/lib/client", include: '*.jar')
	compile 'javax.xml:jaxb-api:2.+'
	
	// only if you have access to w4store (but it seems there's SSL issue 
	// if you uncomment this line  
	//    you can comment the fileTree dependency to $w4home/lib/client
	// compile 'eu.w4:bpmn-engine-client:9.+'
		
    testCompile 'junit:junit:4.+'
}

jar {
    manifest {
        attributes ('Main-Class': 'eu.w4.dsscli.cmd.CLI',
          'Class-Path': '. '+configurations.compile.collect { it.toURI().toString() }.join(' '))
    }
}